actor "Plasma Cannon" : Weapon
{
    Weapon.BobRangeX 0.75
    Weapon.BobRangeY 0.95
    Weapon.BobSpeed 1.1
    Weapon.SlotNumber 7
    Weapon.SelectionOrder 400
    Weapon.AmmoUse 1
    Weapon.AmmoGive 30
    Weapon.AmmoType "Cell"
    DamageType "DukePlasma"
    +INVENTORY.UNDROPPABLE
	+NOALERT
    Obituary "$SAMSARA_DUKE_OB_SLOT7"
    Decal BulletChip
    Inventory.Pickupmessage "You got the Dual MP5ks!"
    Inventory.PickupSound "duke64/wepselect"
    Weapon.UpSound "duke64/wepselect"
	Inventory.RestrictedTo "Duke64Player"
    Scale 0.5
	
    States
    {
		Spawn:
			TNT1 A -1
			Stop
		Ready:
			TNT1 A 0 A_JumpIfInventory("DukeReady",1,"IntroTaunt")
			TNT1 A 0 A_JumpIfInventory("DukeWaiting",15,"WaitingTaunt")
			D6PC A 1 A_WeaponReady
			Loop
		Deselect:
			TNT1 A 0 A_Lower
			D6PC A 1 A_Lower
			Loop
		Select:
			TNT1 A 0 A_JumpIfInventory("DukeReady",1,"IntroTaunt1")
			D6PC A 1 A_Raise
			D6PC A 0 A_Raise
			D6PC A 0 A_Raise
			D6PC A 1 A_Raise
			D6PC A 0 A_Raise
			D6PC A 1 A_Raise
			D6PC A 0 A_Raise
			D6PC A 1 A_Raise
			D6PC A 0 A_Raise
			D6PC A 1 A_Raise
			D6PC A 0 A_Raise
			D6PC AAAAAA 1 A_Raise
			Loop
		Fire:
			TNT1 A 0 A_GiveInventory("HoldFlash",1)
			D6PC A 4 A_PlaySound("duke64/plasmacharge",5)
			D6PC A 0 A_GunFlash
			TNT1 A 0 A_ReFire
			Goto FireWeak
		/*Flash:
			D6PC ABCB 1
			D6PC D 2
			D6PC EFGE 1
			D6PC GH 2
			D6PC AG 1
			D6PC EB 2
			D6PC I 1
			D6PC D 2
			D6PC J 1
			D6PC K 2
			D6PC CA 1
			D6PC L 2
			D6PC C 1
			D6PC K 2
			D6PC BM 1
			TNT1 A 0 A_JumpIfInventory("HoldFlash",1,"Flash")
			Stop*/
		Flash:
			TNT1 A 0 A_Jump(256,"Flash1","Flash2","Flash3","Flash4","Flash5","Flash6","Flash7","Flash8","Flash9","Flash10","Flash11","Flash12","Flash13","Flash14")
		Flash1:
			D6PC A 1
			TNT1 A 0 A_JumpIfInventory("HoldFlash",1,"Flash")
			Stop
		Flash2:
			D6PC B 1
			TNT1 A 0 A_JumpIfInventory("HoldFlash",1,"Flash")
			Stop
		Flash3:
			D6PC C 1
			TNT1 A 0 A_JumpIfInventory("HoldFlash",1,"Flash")
			Stop
		Flash4:
			D6PC D 1
			TNT1 A 0 A_JumpIfInventory("HoldFlash",1,"Flash")
			Stop
		Flash5:
			D6PC E 1
			TNT1 A 0 A_JumpIfInventory("HoldFlash",1,"Flash")
			Stop
		Flash6:
			D6PC F 1
			TNT1 A 0 A_JumpIfInventory("HoldFlash",1,"Flash")
			Stop
		Flash7:
			D6PC G 1
			TNT1 A 0 A_JumpIfInventory("HoldFlash",1,"Flash")
			Stop
		Flash8:
			D6PC H 1
			TNT1 A 0 A_JumpIfInventory("HoldFlash",1,"Flash")
			Stop
		Flash9:
			D6PC I 1
			TNT1 A 0 A_JumpIfInventory("HoldFlash",1,"Flash")
			Stop
		Flash10:
			D6PC J 1
			TNT1 A 0 A_JumpIfInventory("HoldFlash",1,"Flash")
			Stop
		Flash11:
			D6PC K 1
			TNT1 A 0 A_JumpIfInventory("HoldFlash",1,"Flash")
			Stop
		Flash12:
			D6PC L 1
			TNT1 A 0 A_JumpIfInventory("HoldFlash",1,"Flash")
			Stop
		Flash13:
			D6PC M 1
			TNT1 A 0 A_JumpIfInventory("HoldFlash",1,"Flash")
			Stop
		Flash14:
			D6PC N 1
			TNT1 A 0 A_JumpIfInventory("HoldFlash",1,"Flash")
			Stop
		Hold:
			TNT1 A 0 A_JumpIfInventory("PlasmaSound",151,2)
			TNT1 A 0 A_JumpIfInventory("PlasmaSound",150,"HoldSound")
			TNT1 A 0 A_JumpIfInventory("PlasmaCharge",42,"HoldMax")
			TNT1 A 0 A_JumpIfInventory("PlasmaCharge",40,"Hold36")
			TNT1 A 0 A_JumpIfInventory("PlasmaCharge",38,"Hold35")
			TNT1 A 0 A_JumpIfInventory("PlasmaCharge",36,"Hold34")
			TNT1 A 0 A_JumpIfInventory("PlasmaCharge",34,"Hold33")
			//TNT1 A 0 A_JumpIfInventory("PlasmaCharge",62,"Hold32")
			TNT1 A 0 A_JumpIfInventory("PlasmaCharge",32,"Hold31")
			//TNT1 A 0 A_JumpIfInventory("PlasmaCharge",58,"Hold30")
			TNT1 A 0 A_JumpIfInventory("PlasmaCharge",30,"Hold29")
			//TNT1 A 0 A_JumpIfInventory("PlasmaCharge",54,"Hold28")
			TNT1 A 0 A_JumpIfInventory("PlasmaCharge",28,"Hold27")
			//TNT1 A 0 A_JumpIfInventory("PlasmaCharge",50,"Hold26")
			TNT1 A 0 A_JumpIfInventory("PlasmaCharge",26,"Hold25")
			//TNT1 A 0 A_JumpIfInventory("PlasmaCharge",46,"Hold24")
			TNT1 A 0 A_JumpIfInventory("PlasmaCharge",24,"Hold23")
			//TNT1 A 0 A_JumpIfInventory("PlasmaCharge",42,"Hold22")
			TNT1 A 0 A_JumpIfInventory("PlasmaCharge",22,"Hold21")
			//TNT1 A 0 A_JumpIfInventory("PlasmaCharge",38,"Hold20")
			TNT1 A 0 A_JumpIfInventory("PlasmaCharge",20,"Hold19")
			//TNT1 A 0 A_JumpIfInventory("PlasmaCharge",34,"Hold18")
			TNT1 A 0 A_JumpIfInventory("PlasmaCharge",18,"Hold17")
			//TNT1 A 0 A_JumpIfInventory("PlasmaCharge",30,"Hold16")
			TNT1 A 0 A_JumpIfInventory("PlasmaCharge",16,"Hold15")
			//TNT1 A 0 A_JumpIfInventory("PlasmaCharge",26,"Hold14")
			TNT1 A 0 A_JumpIfInventory("PlasmaCharge",14,"Hold13")
			//TNT1 A 0 A_JumpIfInventory("PlasmaCharge",22,"Hold12")
			TNT1 A 0 A_JumpIfInventory("PlasmaCharge",12,"Hold11")
			//TNT1 A 0 A_JumpIfInventory("PlasmaCharge",18,"Hold10")
			TNT1 A 0 A_JumpIfInventory("PlasmaCharge",10,"Hold9")
			//TNT1 A 0 A_JumpIfInventory("PlasmaCharge",14,"Hold8")
			TNT1 A 0 A_JumpIfInventory("PlasmaCharge",8,"Hold7")
			//TNT1 A 0 A_JumpIfInventory("PlasmaCharge",10,"Hold6")
			TNT1 A 0 A_JumpIfInventory("PlasmaCharge",6,"Hold5")
			//TNT1 A 0 A_JumpIfInventory("PlasmaCharge",6,"Hold4")
			TNT1 A 0 A_JumpIfInventory("PlasmaCharge",4,"Hold3")
			//TNT1 A 0 A_JumpIfInventory("PlasmaCharge",2,"Hold2")
			TNT1 A 0 A_Jump(256,"Hold_1","Hold_2","Hold_3","Hold_4")
		Hold_1:
			PB01 A 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold_2:
			PB01 B 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold_3:
			PB01 C 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold_4:
			PB01 D 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold2:
			TNT1 A 0 A_Jump(256,"Hold2_1","Hold2_2","Hold2_3","Hold2_4")
		Hold2_1:
			PB02 A 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold2_2:
			PB02 B 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold2_3:
			PB02 C 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold2_4:
			PB02 D 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold3:
			TNT1 A 0 A_Jump(256,"Hold3_1","Hold3_2","Hold3_3","Hold3_4")
		Hold3_1:
			PB03 A 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold3_2:
			PB03 B 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold3_3:
			PB03 C 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold3_4:
			PB03 D 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold4:
			TNT1 A 0 A_Jump(256,"Hold4_1","Hold4_2","Hold4_3","Hold4_4")
		Hold4_1:
			PB04 A 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold4_2:
			PB04 B 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold4_3:
			PB04 C 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold4_4:
			PB04 D 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold5:
			TNT1 A 0 A_Jump(256,"Hold5_1","Hold5_2","Hold5_3","Hold5_4")
		Hold5_1:
			PB05 A 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold5_2:
			PB05 B 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold5_3:
			PB05 C 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold5_4:
			PB05 D 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold6:
			TNT1 A 0 A_Jump(256,"Hold6_1","Hold6_2","Hold6_3","Hold6_4")
		Hold6_1:
			PB06 A 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold6_2:
			PB06 B 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold6_3:
			PB06 C 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold6_4:
			PB06 D 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold7:
			TNT1 A 0 A_Jump(256,"Hold7_1","Hold7_2","Hold7_3","Hold7_4")
		Hold7_1:
			PB07 A 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold7_2:
			PB07 B 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold7_3:
			PB07 C 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold7_4:
			PB07 D 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold8:
			TNT1 A 0 A_Jump(256,"Hold8_1","Hold8_2","Hold8_3","Hold8_4")
		Hold8_1:
			PB08 A 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold8_2:
			PB08 B 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold8_3:
			PB08 C 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold8_4:
			PB08 D 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold9:
			TNT1 A 0 A_Jump(256,"Hold9_1","Hold9_2","Hold9_3","Hold9_4")
		Hold9_1:
			PB09 A 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold9_2:
			PB09 B 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold9_3:
			PB09 C 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold9_4:
			PB09 D 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold10:
			TNT1 A 0 A_Jump(256,"Hold10_1","Hold10_2","Hold10_3","Hold10_4")
		Hold10_1:
			PB10 A 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold10_2:
			PB10 B 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold10_3:
			PB10 C 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold10_4:
			PB10 D 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold11:
			TNT1 A 0 A_Jump(256,"Hold11_1","Hold11_2","Hold11_3","Hold11_4")
		Hold11_1:
			PB11 A 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold11_2:
			PB11 B 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold11_3:
			PB11 C 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold11_4:
			PB11 D 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold12:
			TNT1 A 0 A_Jump(256,"Hold12_1","Hold12_2","Hold12_3","Hold12_4")
		Hold12_1:
			PB12 A 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold12_2:
			PB12 B 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold12_3:
			PB12 C 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold12_4:
			PB12 D 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold13:
			TNT1 A 0 A_Jump(256,"Hold13_1","Hold13_2","Hold13_3","Hold13_4")
		Hold13_1:
			PB13 A 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold13_2:
			PB13 B 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold13_3:
			PB13 C 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold13_4:
			PB13 D 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold14:
			TNT1 A 0 A_Jump(256,"Hold14_1","Hold14_2","Hold14_3","Hold14_4")
		Hold14_1:
			PB14 A 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold14_2:
			PB14 B 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold14_3:
			PB14 C 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold14_4:
			PB14 D 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold15:
			TNT1 A 0 A_Jump(256,"Hold15_1","Hold15_2","Hold15_3","Hold15_4")
		Hold15_1:
			PB15 A 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold15_2:
			PB15 B 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold15_3:
			PB15 C 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold15_4:
			PB15 D 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold16:
			TNT1 A 0 A_Jump(256,"Hold16_1","Hold16_2","Hold16_3","Hold16_4")
		Hold16_1:
			PB16 A 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold16_2:
			PB16 B 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold16_3:
			PB16 C 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold16_4:
			PB16 D 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold17:
			TNT1 A 0 A_Jump(256,"Hold17_1","Hold17_2","Hold17_3","Hold17_4")
		Hold17_1:
			PB17 A 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold17_2:
			PB17 B 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold17_3:
			PB17 C 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold17_4:
			PB17 D 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold18:
			TNT1 A 0 A_Jump(256,"Hold18_1","Hold18_2","Hold18_3","Hold18_4")
		Hold18_1:
			PB18 A 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold18_2:
			PB18 B 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold18_3:
			PB18 C 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold18_4:
			PB18 D 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold19:
			TNT1 A 0 A_Jump(256,"Hold19_1","Hold19_2","Hold19_3","Hold19_4")
		Hold19_1:
			PB19 A 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold19_2:
			PB19 B 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold19_3:
			PB19 C 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold19_4:
			PB19 D 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold20:
			TNT1 A 0 A_Jump(256,"Hold20_1","Hold20_2","Hold20_3","Hold20_4")
		Hold20_1:
			PB20 A 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold20_2:
			PB20 B 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold20_3:
			PB20 C 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold20_4:
			PB20 D 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold21:
			TNT1 A 0 A_Jump(256,"Hold21_1","Hold21_2","Hold21_3","Hold21_4")
		Hold21_1:
			PB21 A 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold21_2:
			PB21 B 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold21_3:
			PB21 C 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold21_4:
			PB21 D 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold22:
			TNT1 A 0 A_Jump(256,"Hold22_1","Hold22_2","Hold22_3","Hold22_4")
		Hold22_1:
			PB22 A 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold22_2:
			PB22 B 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold22_3:
			PB22 C 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold22_4:
			PB22 D 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold23:
			TNT1 A 0 A_Jump(256,"Hold23_1","Hold23_2","Hold23_3","Hold23_4")
		Hold23_1:
			PB23 A 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold23_2:
			PB23 B 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold23_3:
			PB23 C 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold23_4:
			PB23 D 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold24:
			TNT1 A 0 A_Jump(256,"Hold24_1","Hold24_2","Hold24_3","Hold24_4")
		Hold24_1:
			PB24 A 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold24_2:
			PB24 B 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold24_3:
			PB24 C 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold24_4:
			PB24 D 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold25:
			TNT1 A 0 A_Jump(256,"Hold25_1","Hold25_2","Hold25_3","Hold25_4")
		Hold25_1:
			PB25 A 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold25_2:
			PB25 B 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold25_3:
			PB25 C 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold25_4:
			PB25 D 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold26:
			TNT1 A 0 A_Jump(256,"Hold26_1","Hold26_2","Hold26_3","Hold26_4")
		Hold26_1:
			PB26 A 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold26_2:
			PB26 B 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold26_3:
			PB26 C 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold26_4:
			PB26 D 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold27:
			TNT1 A 0 A_Jump(256,"Hold27_1","Hold27_2","Hold27_3","Hold27_4")
		Hold27_1:
			PB27 A 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold27_2:
			PB27 B 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold27_3:
			PB27 C 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold27_4:
			PB27 D 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold28:
			TNT1 A 0 A_Jump(256,"Hold28_1","Hold28_2","Hold28_3","Hold28_4")
		Hold28_1:
			PB28 A 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold28_2:
			PB28 B 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold28_3:
			PB28 C 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold28_4:
			PB28 D 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold29:
			TNT1 A 0 A_Jump(256,"Hold29_1","Hold29_2","Hold29_3","Hold29_4")
		Hold29_1:
			PB29 A 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold29_2:
			PB29 B 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold29_3:
			PB29 C 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold29_4:
			PB29 D 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold30:
			TNT1 A 0 A_Jump(256,"Hold30_1","Hold30_2","Hold30_3","Hold30_4")
		Hold30_1:
			PB30 A 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold30_2:
			PB30 B 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold30_3:
			PB30 C 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold30_4:
			PB30 D 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold31:
			TNT1 A 0 A_Jump(256,"Hold31_1","Hold31_2","Hold31_3","Hold31_4")
		Hold31_1:
			PB31 A 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold31_2:
			PB31 B 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold31_3:
			PB31 C 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold31_4:
			PB31 D 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold32:
			TNT1 A 0 A_Jump(256,"Hold32_1","Hold32_2","Hold32_3","Hold32_4")
		Hold32_1:
			PB32 A 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold32_2:
			PB32 B 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold32_3:
			PB32 C 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold32_4:
			PB32 D 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold33:
			TNT1 A 0 A_Jump(256,"Hold33_1","Hold33_2","Hold33_3","Hold33_4")
		Hold33_1:
			PB33 A 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold33_2:
			PB33 B 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold33_3:
			PB33 C 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold33_4:
			PB33 D 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold34:
			TNT1 A 0 A_Jump(256,"Hold34_1","Hold34_2","Hold34_3","Hold34_4")
		Hold34_1:
			PB34 A 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold34_2:
			PB34 B 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold34_3:
			PB34 C 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold34_4:
			PB34 D 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold35:
			TNT1 A 0 A_Jump(256,"Hold35_1","Hold35_2","Hold35_3","Hold35_4")
		Hold35_1:
			PB35 A 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold35_2:
			PB35 B 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold35_3:
			PB35 C 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold35_4:
			PB35 D 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold36:
			TNT1 A 0 A_Jump(256,"Hold36_1","Hold36_2","Hold36_3","Hold36_4")
		Hold36_1:
			PB36 A 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold36_2:
			PB36 B 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold36_3:
			PB36 C 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		Hold36_4:
			PB36 D 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		HoldSound:
			TNT1 A 0 A_PlaySound("duke64/plasmahold",CHAN_5,1.0,1)
			Goto HoldContinued
		HoldMax:
			TNT1 A 0 A_Jump(256,"HoldMax_1","HoldMax_2","HoldMax_3","HoldMax_4")
		HoldMax_1:
			PB37 A 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		HoldMax_2:
			PB37 B 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		HoldMax_3:
			PB37 C 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		HoldMax_4:
			PB37 D 1 bright A_GiveInventory("PlasmaCharge",1)
			Goto HoldContinued
		HoldContinued:
			TNT1 A 0 A_GiveInventory("PlasmaSound",1)
			TNT1 A 0 A_ReFire
			TNT1 A 0 A_JumpIfInventory("PlasmaCharge",112,"FireMax")
			TNT1 A 0 A_JumpIfInventory("PlasmaCharge",109,"Fire32")
			TNT1 A 0 A_JumpIfInventory("PlasmaCharge",106,"Fire31")
			TNT1 A 0 A_JumpIfInventory("PlasmaCharge",102,"Fire30")
			TNT1 A 0 A_JumpIfInventory("PlasmaCharge",101,"Fire29_2")
			TNT1 A 0 A_JumpIfInventory("PlasmaCharge",98,"Fire29")
			TNT1 A 0 A_JumpIfInventory("PlasmaCharge",95,"Fire28")
			TNT1 A 0 A_JumpIfInventory("PlasmaCharge",91,"Fire27")
			TNT1 A 0 A_JumpIfInventory("PlasmaCharge",87,"Fire26")
			TNT1 A 0 A_JumpIfInventory("PlasmaCharge",84,"Fire25")
			TNT1 A 0 A_JumpIfInventory("PlasmaCharge",81,"Fire24")
			TNT1 A 0 A_JumpIfInventory("PlasmaCharge",77,"Fire23")
			TNT1 A 0 A_JumpIfInventory("PlasmaCharge",74,"Fire22")
			TNT1 A 0 A_JumpIfInventory("PlasmaCharge",71,"Fire21")
			TNT1 A 0 A_JumpIfInventory("PlasmaCharge",67,"Fire20")
			TNT1 A 0 A_JumpIfInventory("PlasmaCharge",63,"Fire19")
			TNT1 A 0 A_JumpIfInventory("PlasmaCharge",60,"Fire18")
			TNT1 A 0 A_JumpIfInventory("PlasmaCharge",56,"Fire17")
			TNT1 A 0 A_JumpIfInventory("PlasmaCharge",53,"Fire16")
			TNT1 A 0 A_JumpIfInventory("PlasmaCharge",50,"Fire15")
			TNT1 A 0 A_JumpIfInventory("PlasmaCharge",46,"Fire14")
			TNT1 A 0 A_JumpIfInventory("PlasmaCharge",43,"Fire13")
			TNT1 A 0 A_JumpIfInventory("PlasmaCharge",39,"Fire12")
			TNT1 A 0 A_JumpIfInventory("PlasmaCharge",36,"Fire11")
			TNT1 A 0 A_JumpIfInventory("PlasmaCharge",32,"Fire10")
			TNT1 A 0 A_JumpIfInventory("PlasmaCharge",29,"Fire9")
			TNT1 A 0 A_JumpIfInventory("PlasmaCharge",26,"Fire8")
			TNT1 A 0 A_JumpIfInventory("PlasmaCharge",21,"Fire7")
			TNT1 A 0 A_JumpIfInventory("PlasmaCharge",17,"Fire6")
			TNT1 A 0 A_JumpIfInventory("PlasmaCharge",14,"Fire5")
			TNT1 A 0 A_JumpIfInventory("PlasmaCharge",11,"Fire4")
			TNT1 A 0 A_JumpIfInventory("PlasmaCharge",8,"Fire3")
			TNT1 A 0 A_JumpIfInventory("PlasmaCharge",4,"Fire2")
			Goto FireWeak	
		FireWeak:
			TNT1 A 0 A_FireCustomMissile("Duke64PlasmaShot",0,1,4,0)
			TNT1 A 0 A_PlayWeaponSound("duke64/plasmafire")
			Goto FireFinish
		Fire2:
			TNT1 A 0 A_FireCustomMissile("Duke64PlasmaShot2",0,1,4,0)
			TNT1 A 0 A_PlayWeaponSound("duke64/plasmafire")
			TNT1 A 0 A_TakeInventory("Cell",1)
			Goto FireFinish
		Fire3:
			TNT1 A 0 A_FireCustomMissile("Duke64PlasmaShot3",0,1,4,0)
			TNT1 A 0 A_PlayWeaponSound("duke64/plasmafire")
			TNT1 A 0 A_TakeInventory("Cell",2)
			Goto FireFinish
		Fire4:
			TNT1 A 0 A_FireCustomMissile("Duke64PlasmaShot4",0,1,4,0)
			TNT1 A 0 A_PlayWeaponSound("duke64/plasmafire")
			TNT1 A 0 A_TakeInventory("Cell",3)
			Goto FireFinish
		Fire5:
			TNT1 A 0 A_FireCustomMissile("Duke64PlasmaShot5",0,1,4,0)
			TNT1 A 0 A_PlayWeaponSound("duke64/plasmafire")
			TNT1 A 0 A_TakeInventory("Cell",4)
			Goto FireFinish
		Fire6:
			TNT1 A 0 A_FireCustomMissile("Duke64PlasmaShot6",0,1,4,0)
			TNT1 A 0 A_PlayWeaponSound("duke64/plasmafire")
			TNT1 A 0 A_TakeInventory("Cell",5)
			Goto FireFinish
		Fire7:
			TNT1 A 0 A_FireCustomMissile("Duke64PlasmaShot7",0,1,4,0)
			TNT1 A 0 A_PlayWeaponSound("duke64/plasmafire")
			TNT1 A 0 A_TakeInventory("Cell",6)
			Goto FireFinish
		Fire8:
			TNT1 A 0 A_FireCustomMissile("Duke64PlasmaShot8",0,1,4,0)
			TNT1 A 0 A_PlayWeaponSound("duke64/plasmafire")
			TNT1 A 0 A_TakeInventory("Cell",7)
			Goto FireFinish
		Fire9:
			TNT1 A 0 A_FireCustomMissile("Duke64PlasmaShot9",0,1,4,0)
			TNT1 A 0 A_PlayWeaponSound("duke64/plasmafire")
			TNT1 A 0 A_TakeInventory("Cell",8)
			Goto FireFinish
		Fire10:
			TNT1 A 0 A_FireCustomMissile("Duke64PlasmaShot10",0,1,4,0)
			TNT1 A 0 A_PlayWeaponSound("duke64/plasmafire")
			TNT1 A 0 A_TakeInventory("Cell",9)
			Goto FireFinish
		Fire11:
			TNT1 A 0 A_FireCustomMissile("Duke64PlasmaShot11",0,1,4,0)
			TNT1 A 0 A_PlayWeaponSound("duke64/plasmafire")
			TNT1 A 0 A_TakeInventory("Cell",10)
			Goto FireFinish
		Fire12:
			TNT1 A 0 A_FireCustomMissile("Duke64PlasmaShot12",0,1,4,0)
			TNT1 A 0 A_PlayWeaponSound("duke64/plasmafire")
			TNT1 A 0 A_TakeInventory("Cell",11)
			Goto FireFinish
		Fire13:
			TNT1 A 0 A_FireCustomMissile("Duke64PlasmaShot13",0,1,4,0)
			TNT1 A 0 A_PlayWeaponSound("duke64/plasmafire")
			TNT1 A 0 A_TakeInventory("Cell",12)
			Goto FireFinish
		Fire14:
			TNT1 A 0 A_FireCustomMissile("Duke64PlasmaShot14",0,1,4,0)
			TNT1 A 0 A_PlayWeaponSound("duke64/plasmafire")
			TNT1 A 0 A_TakeInventory("Cell",13)
			Goto FireFinish
		Fire15:
			TNT1 A 0 A_FireCustomMissile("Duke64PlasmaShot15",0,1,4,0)
			TNT1 A 0 A_PlayWeaponSound("duke64/plasmafire")
			TNT1 A 0 A_TakeInventory("Cell",14)
			Goto FireFinish
		Fire16:
			TNT1 A 0 A_FireCustomMissile("Duke64PlasmaShot16",0,1,4,0)
			TNT1 A 0 A_PlayWeaponSound("duke64/plasmafire")
			TNT1 A 0 A_TakeInventory("Cell",15)
			Goto FireFinish
		Fire17:
			TNT1 A 0 A_FireCustomMissile("Duke64PlasmaShot17",0,1,4,0)
			TNT1 A 0 A_PlayWeaponSound("duke64/plasmafire")
			TNT1 A 0 A_TakeInventory("Cell",16)
			Goto FireFinish
		Fire18:
			TNT1 A 0 A_FireCustomMissile("Duke64PlasmaShot18",0,1,4,0)
			TNT1 A 0 A_PlayWeaponSound("duke64/plasmafire")
			TNT1 A 0 A_TakeInventory("Cell",17)
			Goto FireFinish
		Fire19:
			TNT1 A 0 A_FireCustomMissile("Duke64PlasmaShot19",0,1,4,0)
			TNT1 A 0 A_PlayWeaponSound("duke64/plasmafire")
			TNT1 A 0 A_TakeInventory("Cell",18)
			Goto FireFinish
		Fire20:
			TNT1 A 0 A_FireCustomMissile("Duke64PlasmaShot20",0,1,4,0)
			TNT1 A 0 A_PlayWeaponSound("duke64/plasmafire")
			TNT1 A 0 A_TakeInventory("Cell",19)
			Goto FireFinish
		Fire21:
			TNT1 A 0 A_FireCustomMissile("Duke64PlasmaShot21",0,1,4,0)
			TNT1 A 0 A_PlayWeaponSound("duke64/plasmafire")
			TNT1 A 0 A_TakeInventory("Cell",20)
			Goto FireFinish
		Fire22:
			TNT1 A 0 A_FireCustomMissile("Duke64PlasmaShot22",0,1,4,0)
			TNT1 A 0 A_PlayWeaponSound("duke64/plasmafire")
			TNT1 A 0 A_TakeInventory("Cell",21)
			Goto FireFinish
		Fire23:
			TNT1 A 0 A_FireCustomMissile("Duke64PlasmaShot23",0,1,4,0)
			TNT1 A 0 A_PlayWeaponSound("duke64/plasmafire")
			TNT1 A 0 A_TakeInventory("Cell",22)
			Goto FireFinish
		Fire24:
			TNT1 A 0 A_FireCustomMissile("Duke64PlasmaShot24",0,1,4,0)
			TNT1 A 0 A_PlayWeaponSound("duke64/plasmafire")
			TNT1 A 0 A_TakeInventory("Cell",23)
			Goto FireFinish
		Fire25:
			TNT1 A 0 A_FireCustomMissile("Duke64PlasmaShot25",0,1,4,0)
			TNT1 A 0 A_PlayWeaponSound("duke64/plasmafire")
			TNT1 A 0 A_TakeInventory("Cell",24)
			Goto FireFinish
		Fire26:
			TNT1 A 0 A_FireCustomMissile("Duke64PlasmaShot26",0,1,4,0)
			TNT1 A 0 A_PlayWeaponSound("duke64/plasmafire")
			TNT1 A 0 A_TakeInventory("Cell",25)
			Goto FireFinish
		Fire27:
			TNT1 A 0 A_FireCustomMissile("Duke64PlasmaShot27",0,1,4,0)
			TNT1 A 0 A_PlayWeaponSound("duke64/plasmafire")
			TNT1 A 0 A_TakeInventory("Cell",26)
			Goto FireFinish
		Fire28:
			TNT1 A 0 A_FireCustomMissile("Duke64PlasmaShot28",0,1,4,0)
			TNT1 A 0 A_PlayWeaponSound("duke64/plasmafire")
			TNT1 A 0 A_TakeInventory("Cell",27)
			Goto FireFinish
		Fire29:
			TNT1 A 0 A_FireCustomMissile("Duke64PlasmaShot29",0,1,4,0)
			TNT1 A 0 A_PlayWeaponSound("duke64/plasmafire")
			TNT1 A 0 A_TakeInventory("Cell",28)
			Goto FireFinish
		Fire29_2:
			TNT1 A 0 A_FireCustomMissile("Duke64PlasmaCharged29",0,1,4,0)
			TNT1 A 0 A_PlayWeaponSound("duke64/plasmarelease")
			TNT1 A 0 A_TakeInventory("Cell",28)
			Goto FireFinish
		Fire30:
			TNT1 A 0 A_FireCustomMissile("Duke64PlasmaCharged30",0,1,4,0)
			TNT1 A 0 A_PlayWeaponSound("duke64/plasmarelease")
			TNT1 A 0 A_TakeInventory("Cell",29)
			Goto FireFinish
		Fire31:
			TNT1 A 0 A_FireCustomMissile("Duke64PlasmaCharged31",0,1,4,0)
			TNT1 A 0 A_PlayWeaponSound("duke64/plasmarelease")
			TNT1 A 0 A_TakeInventory("Cell",30)
			Goto FireFinish
		Fire32:
			TNT1 A 0 A_FireCustomMissile("Duke64PlasmaCharged32",0,1,4,0)
			TNT1 A 0 A_PlayWeaponSound("duke64/plasmarelease")
			TNT1 A 0 A_TakeInventory("Cell",31)
			Goto FireFinish
		FireMax:
			TNT1 A 0 A_FireCustomMissile("Duke64PlasmaCharged",0,1,4,0)
			TNT1 A 0 A_PlayWeaponSound("duke64/plasmarelease")
			TNT1 A 0 A_TakeInventory("Cell",32)
			Goto FireFinish
		FireFinish:
			TNT1 A 0 A_StopSound(5)
			TNT1 A 0 A_AlertMonsters
			TNT1 A 0 A_TakeInventory("PlasmaCharge",0)
			TNT1 A 0 A_TakeInventory("PlasmaSound",0)
			TNT1 A 0 A_TakeInventory("HoldFlash",1)
			TNT1 A 0 A_ReFire
			Goto Ready
		IntroTaunt:
			D6PC AAAA 1 A_Lower
			D6PC A 0 A_Lower
			D6PC A 1 A_Lower
			D6PC A 0 A_Lower
			D6PC A 1 A_Lower
			D6PC A 0 A_Lower
			D6PC A 1 A_Lower
			D6PC A 0 A_Lower
			D6PC A 1 A_Lower
			D6PC A 0 A_Lower
			D6PC A 0 A_Lower
		IntroTaunt1:
			TNT1 AAAAAAAAAAAAA 0 A_Raise
			TNT1 A 0 A_JumpIfInventory("DukeBallgag",1,"IntroTaunt2")
			KNUX A 3
			KNUX B 3
			TNT1 A 0 A_JumpIfInventory("DukeBallgag",1,"IntroTaunt3")
			TNT1 A 0 A_JumpIfInventory("PistolStartEnabled",1,"IntroTaunt3")
			TNT1 A 0 A_PlaySoundEX("duke64/introtaunt","SoundSlot7",0,0)
			KNUX C 3
			TNT1 A 0 A_GiveInventory("DukeTauntCooldown",5)
			TNT1 A 0 ACS_ExecuteAlways(205)
			KNUX D 3 A_PlayWeaponSound("duke/knuckles")
			KNUX C 3
			KNUX B 3
			KNUX A 3 A_TakeInventory("DukeReady",1)
			KNUX AAAAAAAAAAAAAA 0 A_Lower
			TNT1 A 0 A_PlayWeaponSound("duke64/wepselect")
			Goto Select
		IntroTaunt2:
			KNUX A 3
			KNUX B 3
		IntroTaunt3:
			KNUX C 3
			KNUX D 3 A_PlayWeaponSound("duke/knuckles")
			KNUX C 3
			KNUX B 3
			KNUX A 3 A_TakeInventory("DukeReady",1)
			KNUX AAAAAAAAAAAAAA 0 A_Lower
			TNT1 A 0 A_PlayWeaponSound("duke64/wepselect")
			Goto Select
        WaitingTaunt:
			D6PC AAAA 1 A_Lower
			D6PC A 0 A_Lower
			D6PC A 1 A_Lower
			D6PC A 0 A_Lower
			D6PC A 1 A_Lower
			D6PC A 0 A_Lower
			D6PC A 1 A_Lower
			D6PC A 0 A_Lower
			D6PC A 1 A_Lower
			D6PC A 0 A_Lower
			D6PC A 0 A_Lower
		WaitingTaunt1:
			TNT1 AAAAAAAAAAAAA 0 A_Raise
			TNT1 A 0 A_JumpIfInventory("DukeBallgag",1,"IntroTaunt2")
			KNUX A 3
			KNUX B 3
			TNT1 A 0 A_JumpIfInventory("DukeBallgag",1,"IntroTaunt3")
			TNT1 A 0 A_PlaySoundEX("duke64/waitingtoolong","SoundSlot7",0,0)
			KNUX C 3
			TNT1 A 0 A_GiveInventory("DukeTauntCooldown",5)
			TNT1 A 0 ACS_ExecuteAlways(205)
			KNUX D 3 A_PlayWeaponSound("duke/knuckles")
			KNUX C 3
			KNUX B 3
			KNUX A 3 A_TakeInventory("DukeWaiting",15)
			KNUX AAAAAAAAAAAAAA 0 A_Lower
			TNT1 A 0 A_PlayWeaponSound("duke64/wepselect")
			Goto Select
		WaitingTaunt2:
			KNUX A 3
			KNUX B 3
		WaitingTaunt3:
			KNUX C 3
			KNUX D 3 A_PlayWeaponSound("duke/knuckles")
			KNUX C 3
			KNUX B 3
			KNUX A 3 A_TakeInventory("DukeWaiting",15)
			KNUX AAAAAAAAAAAAAA 0 A_Lower
			TNT1 A 0 A_PlayWeaponSound("duke64/wepselect")
			Goto Select
	}
}

actor HoldFlash : Boolean { }

actor Duke64PlasmaShot
{
    Radius 12
    Height 8
    Speed 30
    Damage (30)
    Projectile
    Obituary "$SAMSARA_DUKE_OB_SLOT5"
    Scale 0.5
    Decal Scorch
    DamageType "DukePlasma"
    +FORCERADIUSDMG

    States
    {
      Spawn:
        PLSX ABCD 2 bright
        loop

      Death:
        TNT1 A 0 A_Explode(30,128,0)
        TNT1 A 0 A_PlaySound("duke64/explosion", 6, 1.0, 0, ATTN_NONE)
        TNT1 A 1 A_SpawnItemEx("PlasmaExplosion",0,0,0,0,0,0,0,160)
        Stop
    }
}

actor Duke64PlasmaShot2 : Duke64PlasmaShot
{
    Damage (60)

    States
    {
      Death:
        TNT1 A 0 A_Explode(60,128,0)
        TNT1 A 0 A_PlaySound("duke64/explosion", 6, 1.0, 0, ATTN_NONE)
        TNT1 A 1 A_SpawnItemEx("PlasmaExplosion",0,0,0,0,0,0,0,160)
        Stop
    }
}

actor Duke64PlasmaShot3 : Duke64PlasmaShot
{
    Damage (90)

    States
    {
      Death:
        TNT1 A 0 A_Explode(90,128,0)
        TNT1 A 0 A_PlaySound("duke64/explosion", 6, 1.0, 0, ATTN_NONE)
        TNT1 A 1 A_SpawnItemEx("PlasmaExplosion",0,0,0,0,0,0,0,160)
        Stop
    }
}

actor Duke64PlasmaShot4 : Duke64PlasmaShot
{
    Damage (121)

    States
    {
      Death:
        TNT1 A 0 A_Explode(121,128,0)
        TNT1 A 0 A_PlaySound("duke64/explosion", 6, 1.0, 0, ATTN_NONE)
        TNT1 A 1 A_SpawnItemEx("PlasmaExplosion",0,0,0,0,0,0,0,160)
        Stop
    }
}

actor Duke64PlasmaShot5 : Duke64PlasmaShot
{
    Damage (151)

    States
    {
      Death:
        TNT1 A 0 A_Explode(151,128,0)
        TNT1 A 0 A_PlaySound("duke64/explosion", 6, 1.0, 0, ATTN_NONE)
        TNT1 A 1 A_SpawnItemEx("PlasmaExplosion",0,0,0,0,0,0,0,160)
        Stop
    }
}

actor Duke64PlasmaShot6 : Duke64PlasmaShot
{
    Damage (181)

    States
    {
      Death:
        TNT1 A 0 A_Explode(181,128,0)
        TNT1 A 0 A_PlaySound("duke64/explosion", 6, 1.0, 0, ATTN_NONE)
        TNT1 A 1 A_SpawnItemEx("PlasmaExplosion",0,0,0,0,0,0,0,160)
        Stop
    }
}

actor Duke64PlasmaShot7 : Duke64PlasmaShot
{
    Damage (212)

    States
    {
      Death:
        TNT1 A 0 A_Explode(212,128,0)
        TNT1 A 0 A_PlaySound("duke64/explosion", 6, 1.0, 0, ATTN_NONE)
        TNT1 A 1 A_SpawnItemEx("PlasmaExplosion",0,0,0,0,0,0,0,160)
        Stop
    }
}

actor Duke64PlasmaShot8 : Duke64PlasmaShot
{
    Damage (242)

    States
    {
      Death:
        TNT1 A 0 A_Explode(242,128,0)
        TNT1 A 0 A_PlaySound("duke64/explosion", 6, 1.0, 0, ATTN_NONE)
        TNT1 A 1 A_SpawnItemEx("PlasmaExplosion",0,0,0,0,0,0,0,160)
        Stop
    }
}

actor Duke64PlasmaShot9 : Duke64PlasmaShot
{
    Damage (272)

    States
    {
      Death:
        TNT1 A 0 A_Explode(272,128,0)
        TNT1 A 0 A_PlaySound("duke64/explosion", 6, 1.0, 0, ATTN_NONE)
        TNT1 A 1 A_SpawnItemEx("PlasmaExplosion",0,0,0,0,0,0,0,160)
        Stop
    }
}

actor Duke64PlasmaShot10 : Duke64PlasmaShot
{
    Damage (303)

    States
    {
      Death:
        TNT1 A 0 A_Explode(303,128,0)
        TNT1 A 0 A_PlaySound("duke64/explosion", 6, 1.0, 0, ATTN_NONE)
        TNT1 A 1 A_SpawnItemEx("PlasmaExplosion",0,0,0,0,0,0,0,160)
        Stop
    }
}

actor Duke64PlasmaShot11 : Duke64PlasmaShot
{
    Damage (333)

    States
    {
      Death:
        TNT1 A 0 A_Explode(333,128,0)
        TNT1 A 0 A_PlaySound("duke64/explosion", 6, 1.0, 0, ATTN_NONE)
        TNT1 A 1 A_SpawnItemEx("PlasmaExplosion",0,0,0,0,0,0,0,160)
        Stop
    }
}

actor Duke64PlasmaShot12 : Duke64PlasmaShot
{
    Damage (363)

    States
    {
      Death:
        TNT1 A 0 A_Explode(363,128,0)
        TNT1 A 0 A_PlaySound("duke64/explosion", 6, 1.0, 0, ATTN_NONE)
        TNT1 A 1 A_SpawnItemEx("PlasmaExplosion",0,0,0,0,0,0,0,160)
        Stop
    }
}

actor Duke64PlasmaShot13 : Duke64PlasmaShot
{
    Damage (393)

    States
    {
      Death:
        TNT1 A 0 A_Explode(393,128,0)
        TNT1 A 0 A_PlaySound("duke64/explosion", 6, 1.0, 0, ATTN_NONE)
        TNT1 A 1 A_SpawnItemEx("PlasmaExplosion",0,0,0,0,0,0,0,160)
        Stop
    }
}

actor Duke64PlasmaShot14 : Duke64PlasmaShot
{
    Damage (424)

    States
    {
      Death:
        TNT1 A 0 A_Explode(424,128,0)
        TNT1 A 0 A_PlaySound("duke64/explosion", 6, 1.0, 0, ATTN_NONE)
        TNT1 A 1 A_SpawnItemEx("PlasmaExplosion",0,0,0,0,0,0,0,160)
        Stop
    }
}

actor Duke64PlasmaShot15 : Duke64PlasmaShot
{
    Damage (454)

    States
    {
      Death:
        TNT1 A 0 A_Explode(454,128,0)
        TNT1 A 0 A_PlaySound("duke64/explosion", 6, 1.0, 0, ATTN_NONE)
        TNT1 A 1 A_SpawnItemEx("PlasmaExplosion",0,0,0,0,0,0,0,160)
        Stop
    }
}

actor Duke64PlasmaShot16 : Duke64PlasmaShot
{
    Damage (484)

    States
    {
      Death:
        TNT1 A 0 A_Explode(484,128,0)
        TNT1 A 0 A_PlaySound("duke64/explosion", 6, 1.0, 0, ATTN_NONE)
        TNT1 A 1 A_SpawnItemEx("PlasmaExplosion",0,0,0,0,0,0,0,160)
        Stop
    }
}

actor Duke64PlasmaShot17 : Duke64PlasmaShot
{
    Damage (515)

    States
    {
      Death:
        TNT1 A 0 A_Explode(515,128,0)
        TNT1 A 0 A_PlaySound("duke64/explosion", 6, 1.0, 0, ATTN_NONE)
        TNT1 A 1 A_SpawnItemEx("PlasmaExplosion",0,0,0,0,0,0,0,160)
        Stop
    }
}

actor Duke64PlasmaShot18 : Duke64PlasmaShot
{
    Damage (545)

    States
    {
      Death:
        TNT1 A 0 A_Explode(545,128,0)
        TNT1 A 0 A_PlaySound("duke64/explosion", 6, 1.0, 0, ATTN_NONE)
        TNT1 A 1 A_SpawnItemEx("PlasmaExplosion",0,0,0,0,0,0,0,160)
        Stop
    }
}

actor Duke64PlasmaShot19 : Duke64PlasmaShot
{
    Damage (575)

    States
    {
      Death:
        TNT1 A 0 A_Explode(575,128,0)
        TNT1 A 0 A_PlaySound("duke64/explosion", 6, 1.0, 0, ATTN_NONE)
        TNT1 A 1 A_SpawnItemEx("PlasmaExplosion",0,0,0,0,0,0,0,160)
        Stop
    }
}

actor Duke64PlasmaShot20 : Duke64PlasmaShot
{
    Damage (606)

    States
    {
      Death:
        TNT1 A 0 A_Explode(606,128,0)
        TNT1 A 0 A_PlaySound("duke64/explosion", 6, 1.0, 0, ATTN_NONE)
        TNT1 A 1 A_SpawnItemEx("PlasmaExplosion",0,0,0,0,0,0,0,160)
        Stop
    }
}

actor Duke64PlasmaShot21 : Duke64PlasmaShot
{
    Damage (636)

    States
    {
      Death:
        TNT1 A 0 A_Explode(636,128,0)
        TNT1 A 0 A_PlaySound("duke64/explosion", 6, 1.0, 0, ATTN_NONE)
        TNT1 A 1 A_SpawnItemEx("PlasmaExplosion",0,0,0,0,0,0,0,160)
        Stop
    }
}

actor Duke64PlasmaShot22 : Duke64PlasmaShot
{
    Damage (666)

    States
    {
      Death:
        TNT1 A 0 A_Explode(666,128,0)
        TNT1 A 0 A_PlaySound("duke64/explosion", 6, 1.0, 0, ATTN_NONE)
        TNT1 A 1 A_SpawnItemEx("PlasmaExplosion",0,0,0,0,0,0,0,160)
        Stop
    }
}

actor Duke64PlasmaShot23 : Duke64PlasmaShot
{
    Damage (696)

    States
    {
      Death:
        TNT1 A 0 A_Explode(696,128,0)
        TNT1 A 0 A_PlaySound("duke64/explosion", 6, 1.0, 0, ATTN_NONE)
        TNT1 A 1 A_SpawnItemEx("PlasmaExplosion",0,0,0,0,0,0,0,160)
        Stop
    }
}

actor Duke64PlasmaShot24 : Duke64PlasmaShot
{
    Damage (727)

    States
    {
      Death:
        TNT1 A 0 A_Explode(727,128,0)
        TNT1 A 0 A_PlaySound("duke64/explosion", 6, 1.0, 0, ATTN_NONE)
        TNT1 A 1 A_SpawnItemEx("PlasmaExplosion",0,0,0,0,0,0,0,160)
        Stop
    }
}

actor Duke64PlasmaShot25 : Duke64PlasmaShot
{
    Damage (757)

    States
    {
      Death:
        TNT1 A 0 A_Explode(757,128,0)
        TNT1 A 0 A_PlaySound("duke64/explosion", 6, 1.0, 0, ATTN_NONE)
        TNT1 A 1 A_SpawnItemEx("PlasmaExplosion",0,0,0,0,0,0,0,160)
        Stop
    }
}

actor Duke64PlasmaShot26 : Duke64PlasmaShot
{
    Damage (787)

    States
    {
      Death:
        TNT1 A 0 A_Explode(787,128,0)
        TNT1 A 0 A_PlaySound("duke64/explosion", 6, 1.0, 0, ATTN_NONE)
        TNT1 A 1 A_SpawnItemEx("PlasmaExplosion",0,0,0,0,0,0,0,160)
        Stop
    }
}

actor Duke64PlasmaShot27 : Duke64PlasmaShot
{
    Damage (818)

    States
    {
      Death:
        TNT1 A 0 A_Explode(818,128,0)
        TNT1 A 0 A_PlaySound("duke64/explosion", 6, 1.0, 0, ATTN_NONE)
        TNT1 A 1 A_SpawnItemEx("PlasmaExplosion",0,0,0,0,0,0,0,160)
        Stop
    }
}

actor Duke64PlasmaShot28 : Duke64PlasmaShot
{
    Damage (848)

    States
    {
      Death:
        TNT1 A 0 A_Explode(848,128,0)
        TNT1 A 0 A_PlaySound("duke64/explosion", 6, 1.0, 0, ATTN_NONE)
        TNT1 A 1 A_SpawnItemEx("PlasmaExplosion",0,0,0,0,0,0,0,160)
        Stop
    }
}

actor Duke64PlasmaShot29 : Duke64PlasmaShot
{
    Damage (878)

    States
    {
      Death:
        TNT1 A 0 A_Explode(878,128,0)
        TNT1 A 0 A_PlaySound("duke64/explosion", 6, 1.0, 0, ATTN_NONE)
        TNT1 A 1 A_SpawnItemEx("PlasmaExplosion",0,0,0,0,0,0,0,160)
        Stop
    }
}

actor Duke64PlasmaCharged29 : Duke64PlasmaShot
{
    Damage (878)
	Scale 1
    States
    {
		Death:
        TNT1 A 0 A_Explode(878,330,0,0,165)
        TNT1 A 0 A_PlaySound("duke64/plasmaexplode", 6, 1.0, 0, ATTN_NONE)
		TNT1 A 0 A_RadiusGive("PlasmaChargedFlash",15000,RGF_PLAYERS)
		TNT1 A 0 A_SpawnItemEx("PlasmaChargedFireRing",0,0,0,0,0,0,0,160)
		TNT1 A 0 A_SpawnItemEx("PlasmaChargedFireBall",0,0,0,0,0,0,0,160)
        TNT1 A 1 A_SpawnItemEx("PlasmaExplosion",0,0,0,0,0,0,0,160)
        Stop
    }
}

actor Duke64PlasmaCharged30 : Duke64PlasmaShot
{
    Damage (909)
	Scale 1
    States
    {
		Death:
        TNT1 A 0 A_Explode(909,330,0,0,165)
        TNT1 A 0 A_PlaySound("duke64/plasmaexplode", 6, 1.0, 0, ATTN_NONE)
		TNT1 A 0 A_RadiusGive("PlasmaChargedFlash",15000,RGF_PLAYERS)
		TNT1 A 0 A_SpawnItemEx("PlasmaChargedFireRing",0,0,0,0,0,0,0,160)
		TNT1 A 0 A_SpawnItemEx("PlasmaChargedFireBall",0,0,0,0,0,0,0,160)
        TNT1 A 1 A_SpawnItemEx("PlasmaExplosion",0,0,0,0,0,0,0,160)
        Stop
    }
}

actor Duke64PlasmaCharged31 : Duke64PlasmaShot
{
    Damage (939)
	Scale 1
    States
    {
		Death:
        TNT1 A 0 A_Explode(939,330,0,0,165)
        TNT1 A 0 A_PlaySound("duke64/plasmaexplode", 6, 1.0, 0, ATTN_NONE)
		TNT1 A 0 A_RadiusGive("PlasmaChargedFlash",15000,RGF_PLAYERS)
		TNT1 A 0 A_SpawnItemEx("PlasmaChargedFireRing",0,0,0,0,0,0,0,160)
		TNT1 A 0 A_SpawnItemEx("PlasmaChargedFireBall",0,0,0,0,0,0,0,160)
        TNT1 A 1 A_SpawnItemEx("PlasmaExplosion",0,0,0,0,0,0,0,160)
        Stop
    }
}

actor Duke64PlasmaCharged32 : Duke64PlasmaShot
{
    Damage (969)
	Scale 1
    States
    {
		Death:
        TNT1 A 0 A_Explode(969,330,0,0,165)
        TNT1 A 0 A_PlaySound("duke64/plasmaexplode", 6, 1.0, 0, ATTN_NONE)
		TNT1 A 0 A_RadiusGive("PlasmaChargedFlash",15000,RGF_PLAYERS)
		TNT1 A 0 A_SpawnItemEx("PlasmaChargedFireRing",0,0,0,0,0,0,0,160)
		TNT1 A 0 A_SpawnItemEx("PlasmaChargedFireBall",0,0,0,0,0,0,0,160)
        TNT1 A 1 A_SpawnItemEx("PlasmaExplosion",0,0,0,0,0,0,0,160)
        Stop
    }
}

actor Duke64PlasmaCharged : Duke64PlasmaShot
{
    Damage (1000)
	Scale 1
    States
    {
		Death:
        TNT1 A 0 A_Explode(1000,330,0,0,165)
        TNT1 A 0 A_PlaySound("duke64/plasmaexplode", 6, 1.0, 0, ATTN_NONE)
		TNT1 A 0 A_RadiusGive("PlasmaChargedFlash",15000,RGF_PLAYERS)
		TNT1 A 0 A_SpawnItemEx("PlasmaChargedFireRing",0,0,0,0,0,0,0,160)
		TNT1 A 0 A_SpawnItemEx("PlasmaChargedFireBall",0,0,0,0,0,0,0,160)
        TNT1 A 1 A_SpawnItemEx("PlasmaExplosion",0,0,0,0,0,0,0,160)
        Stop
    }
}

Actor PlasmaChargedFireRing : Duke64FireRing { Mass 2 Scale 1 }
Actor PlasmaChargedFireBall : Duke64FireBall { Mass 2 Scale 1 }

actor PlasmaExplosion
{
    +NOINTERACTION
    Scale 0.6
    States
    {
      Spawn:
        PLSX EFGHIJK 2 BRIGHT
        Stop
    }
}

Actor PlasmaEffectSmall : ZorchEffectSmall
{
	Scale 0.6
	States
	{
		Spawn:
			PDFX ABCDEFGHIJK 4 BRIGHT
			Stop
	}
}

ACTOR PlasmaChargedFlash : CustomInventory
{
    Inventory.MaxAmount 0
    +AUTOACTIVATE
    States
    {
    Spawn:
        TNT1 A 0
        stop
    Pickup:
        TNT1 A 0
        TNT1 A 0 A_SetBlend("White",1,75)
        stop
    UseStop:
        TNT1 A 0
        stop
    }
}

Actor PlasmaCharge : Inventory { Inventory.MaxAmount 150 }
Actor PlasmaSound : Inventory { Inventory.MaxAmount 151 }